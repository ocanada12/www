<!DOCTYPE HTML>
<html lang="ko">

<head>
        <meta charset="UTF-8">
        <title></title>
        <script type="text/javascript" src="../js/jquery-3.4.1.min.js"></script>
        <script type="text/javascript">

                $(document).ready(function () {
                        $(".error").hide();
                        $("#id").focus();
                        // $("#sendMember").click(function (e) {
                        $("#sendMember").on("click", function (e) {
                                // 기본기능을 방지하기 위해서 사용한다.
                                e.preventDefault();
                                // 유효성 검사
                                let id = $("#id").val();
                                let email = $("#email").val();
                                let password = $("#password").val();
                                let checkPassword = $("#checkPassword").val();


                                if (id) {
                                        $("#errorId").hide();

                                } else {
                                        $("#errorId").show();
                                        $("#id").focus();
                                        return; // 반드시 리턴넣어야 됨  그래야 서브밋됨    
                                }


                                if (email) {
                                        $("#errorEmail").hide();
                                } else {
                                        $("#errorEmail").show();
                                        $("#email").focus();
                                        return; // 반드시 리턴넣어야 됨  그래야 서브밋됨    
                                }


                                if (password) {
                                        $("#errorPassword").hide();
                                } else {
                                        $("#errorPassword").show();
                                        $("#password").focus();
                                        return; // 반드시 리턴넣어야 됨  그래야 서브밋됨    
                                }



                                if (checkPassword) {
                                        $("#errorCheckPassword").hide();
                                } else {
                                        $("#errorCheckPassword").show();
                                        $("#checkPassword").focus();
                                        return; // 반드시 리턴넣어야 됨  그래야 서브밋됨    
                                }

                                if (password != checkPassword) {
                                        $("#errorMissmatchPassword").show();
                                        $("#checkPassword").val("");
                                        $("#checkPassword").focus();
                                        return;
                                } else {
                                        $("#errorMissmatchPassword").hide();
                                        $("#errorCheckPassword").hide();
                                }

                                f.submit();
                        });
                });
        </script>
        <style type="text/css">
                .error {
                        color: red;
                }
        </style>
</head>

<body>
        <h3>jquery event</h3>
        <form action="save.html" method="post" name="f">
                <label for="id">아이디</label>
                <input type="text" name="id" id="id" placeholder="아이디">
                <span class="error" id="errorId">아이디를 입력하세요</span>
                <br>
                <label for="email">이메일</label>
                <input type="text" name="email" id="email" placeholder="이메일">
                <span class="error" id="errorEmail">이메일을 입력하세요</span>
                <br>
                <label for="password">비밀번호</label>
                <input type="password" name="password" id="password" placeholder="비밀번호">
                <span class="error" id="errorPassword">비밀번호를 입력하세요</span>
                <br>
                <label for="checkPassword">비밀번호 확인</label>
                <input type="password" name="checkPassword" id="checkPassword" placeholder="비밀번호">
                <span class="error" id="errorCheckPassword">
                        비밀번호 확인을 입력하세요</span>
                <span class="error" id="errorMissmatchPassword">
                        비밀번호가 일치하지 않습니다.</span>
                <br>
                <button type="sumbit" id="sendMember">회원가입</button>
                <button type="reset">취소</button>
        </form>

</body>

</html>